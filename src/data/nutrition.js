// Comprehensive food database with micronutrients
export const FOOD_DATABASE = {
  // Proteins
  "chicken_breast": {
    name: "Chicken Breast (100g)",
    category: "Proteins",
    calories: 165,
    protein: 31,
    carbs: 0,
    fat: 3.6,
    fiber: 0,
    sugar: 0,
    sodium: 74,
    potassium: 256,
    calcium: 15,
    iron: 0.9,
    magnesium: 25,
    phosphorus: 196,
    zinc: 1.0,
    vitaminA: 6,
    vitaminC: 0,
    vitaminD: 0.1,
    vitaminE: 0.2,
    vitaminK: 0,
    thiamine: 0.1,
    riboflavin: 0.1,
    niacin: 10.9,
    vitaminB6: 0.5,
    folate: 4,
    vitaminB12: 0.3,
    cholesterol: 85,
    saturatedFat: 1.0,
    monounsaturatedFat: 1.2,
    polyunsaturatedFat: 0.8
  },
  "salmon": {
    name: "Atlantic Salmon (100g)",
    category: "Proteins",
    calories: 208,
    protein: 25,
    carbs: 0,
    fat: 12,
    fiber: 0,
    sugar: 0,
    sodium: 44,
    potassium: 363,
    calcium: 9,
    iron: 0.3,
    magnesium: 27,
    phosphorus: 252,
    zinc: 0.4,
    vitaminA: 12,
    vitaminC: 0,
    vitaminD: 11,
    vitaminE: 1.2,
    vitaminK: 0,
    thiamine: 0.2,
    riboflavin: 0.1,
    niacin: 7.9,
    vitaminB6: 0.6,
    folate: 26,
    vitaminB12: 2.8,
    cholesterol: 55,
    saturatedFat: 3.1,
    monounsaturatedFat: 3.8,
    polyunsaturatedFat: 3.9
  },
  "eggs": {
    name: "Large Egg (1 whole)",
    category: "Proteins",
    calories: 70,
    protein: 6,
    carbs: 0.4,
    fat: 5,
    fiber: 0,
    sugar: 0.4,
    sodium: 70,
    potassium: 69,
    calcium: 28,
    iron: 0.9,
    magnesium: 6,
    phosphorus: 99,
    zinc: 0.6,
    vitaminA: 80,
    vitaminC: 0,
    vitaminD: 1.1,
    vitaminE: 0.5,
    vitaminK: 0.3,
    thiamine: 0.04,
    riboflavin: 0.2,
    niacin: 0.1,
    vitaminB6: 0.1,
    folate: 24,
    vitaminB12: 0.6,
    cholesterol: 186,
    saturatedFat: 1.6,
    monounsaturatedFat: 2.0,
    polyunsaturatedFat: 0.7
  },
  // Carbohydrates
  "brown_rice": {
    name: "Brown Rice, cooked (1 cup)",
    category: "Grains",
    calories: 216,
    protein: 5,
    carbs: 45,
    fat: 1.8,
    fiber: 3.5,
    sugar: 0.7,
    sodium: 2,
    potassium: 174,
    calcium: 20,
    iron: 0.8,
    magnesium: 84,
    phosphorus: 150,
    zinc: 1.2,
    vitaminA: 0,
    vitaminC: 0,
    vitaminD: 0,
    vitaminE: 0.1,
    vitaminK: 1.2,
    thiamine: 0.2,
    riboflavin: 0.05,
    niacin: 3.0,
    vitaminB6: 0.3,
    folate: 8,
    vitaminB12: 0,
    cholesterol: 0,
    saturatedFat: 0.4,
    monounsaturatedFat: 0.6,
    polyunsaturatedFat: 0.6
  },
  "oats": {
    name: "Rolled Oats, dry (1/2 cup)",
    category: "Grains",
    calories: 154,
    protein: 5,
    carbs: 28,
    fat: 3,
    fiber: 4,
    sugar: 1,
    sodium: 1,
    potassium: 147,
    calcium: 21,
    iron: 1.7,
    magnesium: 63,
    phosphorus: 180,
    zinc: 1.2,
    vitaminA: 0,
    vitaminC: 0,
    vitaminD: 0,
    vitaminE: 0.2,
    vitaminK: 2,
    thiamine: 0.2,
    riboflavin: 0.06,
    niacin: 0.4,
    vitaminB6: 0.05,
    folate: 14,
    vitaminB12: 0,
    cholesterol: 0,
    saturatedFat: 0.5,
    monounsaturatedFat: 0.9,
    polyunsaturatedFat: 1.1
  },
  // Vegetables
  "broccoli": {
    name: "Broccoli, raw (1 cup chopped)",
    category: "Vegetables",
    calories: 25,
    protein: 3,
    carbs: 5,
    fat: 0.3,
    fiber: 2.3,
    sugar: 1.5,
    sodium: 33,
    potassium: 288,
    calcium: 43,
    iron: 0.7,
    magnesium: 19,
    phosphorus: 60,
    zinc: 0.4,
    vitaminA: 567,
    vitaminC: 81,
    vitaminD: 0,
    vitaminE: 0.7,
    vitaminK: 92,
    thiamine: 0.06,
    riboflavin: 0.1,
    niacin: 0.6,
    vitaminB6: 0.2,
    folate: 57,
    vitaminB12: 0,
    cholesterol: 0,
    saturatedFat: 0.1,
    monounsaturatedFat: 0.02,
    polyunsaturatedFat: 0.1
  },
  "spinach": {
    name: "Spinach, raw (1 cup)",
    category: "Vegetables",
    calories: 7,
    protein: 0.9,
    carbs: 1.1,
    fat: 0.1,
    fiber: 0.7,
    sugar: 0.1,
    sodium: 24,
    potassium: 167,
    calcium: 30,
    iron: 0.8,
    magnesium: 24,
    phosphorus: 15,
    zinc: 0.2,
    vitaminA: 469,
    vitaminC: 8,
    vitaminD: 0,
    vitaminE: 0.6,
    vitaminK: 145,
    thiamine: 0.02,
    riboflavin: 0.05,
    niacin: 0.2,
    vitaminB6: 0.06,
    folate: 58,
    vitaminB12: 0,
    cholesterol: 0,
    saturatedFat: 0.02,
    monounsaturatedFat: 0.003,
    polyunsaturatedFat: 0.05
  },
  // Fruits
  "banana": {
    name: "Banana, medium (1 whole)",
    category: "Fruits",
    calories: 105,
    protein: 1.3,
    carbs: 27,
    fat: 0.4,
    fiber: 3.1,
    sugar: 14.4,
    sodium: 1,
    potassium: 422,
    calcium: 6,
    iron: 0.3,
    magnesium: 32,
    phosphorus: 26,
    zinc: 0.2,
    vitaminA: 64,
    vitaminC: 10,
    vitaminD: 0,
    vitaminE: 0.1,
    vitaminK: 0.5,
    thiamine: 0.04,
    riboflavin: 0.09,
    niacin: 0.8,
    vitaminB6: 0.4,
    folate: 24,
    vitaminB12: 0,
    cholesterol: 0,
    saturatedFat: 0.1,
    monounsaturatedFat: 0.04,
    polyunsaturatedFat: 0.1
  },
  "apple": {
    name: "Apple, medium (1 whole)",
    category: "Fruits",
    calories: 95,
    protein: 0.5,
    carbs: 25,
    fat: 0.3,
    fiber: 4.4,
    sugar: 19,
    sodium: 2,
    potassium: 195,
    calcium: 11,
    iron: 0.2,
    magnesium: 9,
    phosphorus: 20,
    zinc: 0.1,
    vitaminA: 98,
    vitaminC: 8,
    vitaminD: 0,
    vitaminE: 0.3,
    vitaminK: 4,
    thiamine: 0.03,
    riboflavin: 0.05,
    niacin: 0.2,
    vitaminB6: 0.08,
    folate: 5,
    vitaminB12: 0,
    cholesterol: 0,
    saturatedFat: 0.1,
    monounsaturatedFat: 0.01,
    polyunsaturatedFat: 0.1
  },
  // Dairy
  "greek_yogurt": {
    name: "Greek Yogurt, plain (1 cup)",
    category: "Dairy",
    calories: 130,
    protein: 23,
    carbs: 9,
    fat: 0.4,
    fiber: 0,
    sugar: 9,
    sodium: 65,
    potassium: 240,
    calcium: 230,
    iron: 0.1,
    magnesium: 20,
    phosphorus: 194,
    zinc: 1.1,
    vitaminA: 0,
    vitaminC: 0,
    vitaminD: 0,
    vitaminE: 0.03,
    vitaminK: 0.2,
    thiamine: 0.05,
    riboflavin: 0.3,
    niacin: 0.2,
    vitaminB6: 0.1,
    folate: 12,
    vitaminB12: 1.3,
    cholesterol: 10,
    saturatedFat: 0.3,
    monounsaturatedFat: 0.1,
    polyunsaturatedFat: 0.04
  },
  // Nuts and Seeds
  "almonds": {
    name: "Almonds (1 oz, ~23 nuts)",
    category: "Nuts & Seeds",
    calories: 164,
    protein: 6,
    carbs: 6,
    fat: 14,
    fiber: 3.5,
    sugar: 1.2,
    sodium: 0,
    potassium: 208,
    calcium: 76,
    iron: 1.0,
    magnesium: 76,
    phosphorus: 139,
    zinc: 0.9,
    vitaminA: 0,
    vitaminC: 0,
    vitaminD: 0,
    vitaminE: 7.3,
    vitaminK: 0,
    thiamine: 0.06,
    riboflavin: 0.3,
    niacin: 1.0,
    vitaminB6: 0.04,
    folate: 12,
    vitaminB12: 0,
    cholesterol: 0,
    saturatedFat: 1.1,
    monounsaturatedFat: 9.0,
    polyunsaturatedFat: 3.5
  }
};

// Daily Value (DV) recommendations based on 2000 calorie diet
export const DAILY_VALUES = {
  calories: 2000,
  protein: 50, // g
  carbs: 300, // g
  fat: 65, // g
  fiber: 25, // g
  sugar: 50, // g (added sugars limit)
  sodium: 2300, // mg
  potassium: 4700, // mg
  calcium: 1000, // mg
  iron: 18, // mg
  magnesium: 400, // mg
  phosphorus: 1000, // mg
  zinc: 11, // mg
  vitaminA: 900, // mcg
  vitaminC: 90, // mg
  vitaminD: 20, // mcg
  vitaminE: 15, // mg
  vitaminK: 120, // mcg
  thiamine: 1.2, // mg
  riboflavin: 1.3, // mg
  niacin: 16, // mg
  vitaminB6: 1.7, // mg
  folate: 400, // mcg
  vitaminB12: 2.4, // mcg
  cholesterol: 300, // mg (limit)
  saturatedFat: 20, // g (limit)
};

// Exercise database with calorie burn rates (calories per minute by weight)
export const EXERCISE_DATABASE = {
  "walking_moderate": {
    name: "Walking (moderate pace, 3.5 mph)",
    category: "Cardio",
    caloriesPerMinutePer70kg: 3.5,
    met: 4.3
  },
  "running_6mph": {
    name: "Running (6 mph)",
    category: "Cardio", 
    caloriesPerMinutePer70kg: 9.8,
    met: 9.8
  },
  "cycling_moderate": {
    name: "Cycling (moderate, 12-14 mph)",
    category: "Cardio",
    caloriesPerMinutePer70kg: 7.0,
    met: 8.0
  },
  "swimming": {
    name: "Swimming (moderate pace)",
    category: "Cardio",
    caloriesPerMinutePer70kg: 7.0,
    met: 8.0
  },
  "weight_training": {
    name: "Weight Training (general)",
    category: "Strength",
    caloriesPerMinutePer70kg: 3.5,
    met: 3.5
  },
  "yoga": {
    name: "Yoga (general)",
    category: "Flexibility",
    caloriesPerMinutePer70kg: 2.5,
    met: 2.5
  },
  "hiit": {
    name: "HIIT Training",
    category: "Cardio",
    caloriesPerMinutePer70kg: 12.0,
    met: 12.0
  }
};

// Utility functions
export const calculateCaloriesBurned = (exercise, durationMinutes, weightKg) => {
  const exerciseData = EXERCISE_DATABASE[exercise];
  if (!exerciseData) return 0;
  
  // MET formula: calories = MET * weight(kg) * time(hours)
  const hours = durationMinutes / 60;
  return Math.round(exerciseData.met * weightKg * hours);
};

export const searchFoods = (query) => {
  if (!query) return Object.values(FOOD_DATABASE);
  
  const searchTerm = query.toLowerCase();
  return Object.values(FOOD_DATABASE).filter(food =>
    food.name.toLowerCase().includes(searchTerm) ||
    food.category.toLowerCase().includes(searchTerm)
  );
};

export const getFoodsByCategory = (category) => {
  return Object.values(FOOD_DATABASE).filter(food => food.category === category);
};

export const calculateNutrientPercentage = (nutrient, amount) => {
  const dv = DAILY_VALUES[nutrient];
  if (!dv) return 0;
  return Math.round((amount / dv) * 100);
};

export const getNutrientStatus = (nutrient, amount) => {
  const percentage = calculateNutrientPercentage(nutrient, amount);
  if (percentage < 25) return { status: 'low', color: '#ff6b6b' };
  if (percentage < 75) return { status: 'moderate', color: '#ffd93d' };
  if (percentage <= 100) return { status: 'good', color: '#6bcf7f' };
  return { status: 'high', color: '#4ecdc4' };
};
